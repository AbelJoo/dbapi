<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dbapi package &#8212; dbapi 0.0.2 文档</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="dbapi-package">
<h1>dbapi package<a class="headerlink" href="#dbapi-package" title="永久链接至标题">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="module-dbapi.BaseAPI">
<span id="dbapi-baseapi-module"></span><h2>dbapi.BaseAPI module<a class="headerlink" href="#module-dbapi.BaseAPI" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="dbapi.BaseAPI.BaseAPI">
<em class="property">class </em><code class="descclassname">dbapi.BaseAPI.</code><code class="descname">BaseAPI</code><span class="sig-paren">(</span><em>headers</em>, <em>cookies</em>, <em>user_alias</em>, <em>logger</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.BaseAPI.BaseAPI" title="永久链接至目标">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>HTTP客户端封装</p>
<dl class="method">
<dt id="dbapi.BaseAPI.BaseAPI.ck">
<code class="descname">ck</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.BaseAPI.BaseAPI.ck" title="永久链接至目标">¶</a></dt>
<dd><p>获取ck</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">ck</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dbapi.DoubanAPI">
<span id="dbapi-doubanapi-module"></span><h2>dbapi.DoubanAPI module<a class="headerlink" href="#module-dbapi.DoubanAPI" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="dbapi.DoubanAPI.DoubanAPI">
<em class="property">class </em><code class="descclassname">dbapi.DoubanAPI.</code><code class="descname">DoubanAPI</code><span class="sig-paren">(</span><em>cfg={'persist_file': '__cache__.dat'</em>, <em>'headers': {'Accept': 'text/html</em>, <em>application/xhtml+xml</em>, <em>application/xml;q=0.9</em>, <em>image/webp</em>, <em>*/*;q=0.8'</em>, <em>'Accept-Encoding': 'gzip</em>, <em>deflate</em>, <em>sdch</em>, <em>br'</em>, <em>'Accept-Language': 'zh</em>, <em>zh-CN;q=0.8</em>, <em>zh-TW;q=0.6</em>, <em>en;q=0.4</em>, <em>en-US;q=0.2'</em>, <em>'Connection': 'keep-alive'</em>, <em>'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML</em>, <em>like Gecko) Chrome/58.0.3029.81 Safari/537.36'}</em>, <em>'logger': 'dbapi'</em>, <em>'log_level': 10</em>, <em>'log_destination': &lt;colorama.ansitowin32.StreamWrapper object&gt;}</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.DoubanAPI.DoubanAPI" title="永久链接至目标">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>客户端入口类，提供各个模块接口及身份验证</p>
<dl class="method">
<dt id="dbapi.DoubanAPI.DoubanAPI.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.DoubanAPI.DoubanAPI.flush" title="永久链接至目标">¶</a></dt>
<dd><p>更新会话信息，主要是ck</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dbapi.DoubanAPI.DoubanAPI.group">
<code class="descname">group</code><a class="headerlink" href="#dbapi.DoubanAPI.DoubanAPI.group" title="永久链接至目标">¶</a></dt>
<dd><p>豆瓣小组模块</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">dbapi.Group.Group</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.DoubanAPI.DoubanAPI.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.DoubanAPI.DoubanAPI.load" title="永久链接至目标">¶</a></dt>
<dd><p>加载会话信息</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.DoubanAPI.DoubanAPI.login">
<code class="descname">login</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.DoubanAPI.DoubanAPI.login" title="永久链接至目标">¶</a></dt>
<dd><p>登录</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>username</strong> &#8211; 用户名（手机号或者邮箱）</li>
<li><strong>password</strong> &#8211; 密码</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">self</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.DoubanAPI.DoubanAPI.logout">
<code class="descname">logout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.DoubanAPI.DoubanAPI.logout" title="永久链接至目标">¶</a></dt>
<dd><p>登出会话</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.DoubanAPI.DoubanAPI.persist">
<code class="descname">persist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.DoubanAPI.DoubanAPI.persist" title="永久链接至目标">¶</a></dt>
<dd><p>持久化会话</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.DoubanAPI.DoubanAPI.use">
<code class="descname">use</code><span class="sig-paren">(</span><em>cookies</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.DoubanAPI.DoubanAPI.use" title="永久链接至目标">¶</a></dt>
<dd><p>如果遭遇验证码，用这个接口</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>cookies</strong> &#8211; cookie字符串或者字典</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="dbapi.DoubanAPI.test_api">
<code class="descclassname">dbapi.DoubanAPI.</code><code class="descname">test_api</code><span class="sig-paren">(</span><em>argv</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.DoubanAPI.test_api" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dbapi.DoubanAPI.test_client">
<code class="descclassname">dbapi.DoubanAPI.</code><code class="descname">test_client</code><span class="sig-paren">(</span><em>argv</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.DoubanAPI.test_client" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-dbapi.Group">
<span id="dbapi-group-module"></span><h2>dbapi.Group module<a class="headerlink" href="#module-dbapi.Group" title="永久链接至标题">¶</a></h2>
<p>豆瓣小组相关API</p>
<dl class="class">
<dt id="dbapi.Group.Group">
<em class="property">class </em><code class="descclassname">dbapi.Group.</code><code class="descname">Group</code><span class="sig-paren">(</span><em>headers</em>, <em>cookies</em>, <em>user_alias</em>, <em>logger</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group" title="永久链接至目标">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dbapi.BaseAPI.BaseAPI" title="dbapi.BaseAPI.BaseAPI"><code class="xref py py-class docutils literal"><span class="pre">dbapi.BaseAPI.BaseAPI</span></code></a></p>
<p>豆瓣小组客户端</p>
<dl class="method">
<dt id="dbapi.Group.Group.add_comment">
<code class="descname">add_comment</code><span class="sig-paren">(</span><em>topic_id</em>, <em>content</em>, <em>reply_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.add_comment" title="永久链接至目标">¶</a></dt>
<dd><p>添加评论</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>topic_id</strong> &#8211; 话题ID</li>
<li><strong>content</strong> &#8211; 内容</li>
<li><strong>reply_id</strong> &#8211; 回复ID</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.add_group">
<code class="descname">add_group</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.add_group" title="永久链接至目标">¶</a></dt>
<dd><p>创建小组</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>kwargs</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.add_topic">
<code class="descname">add_topic</code><span class="sig-paren">(</span><em>group_alias</em>, <em>title</em>, <em>content</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.add_topic" title="永久链接至目标">¶</a></dt>
<dd><p>创建话题（小心验证码~）</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>group_alias</strong> &#8211; 小组ID</li>
<li><strong>title</strong> &#8211; 标题</li>
<li><strong>content</strong> &#8211; 内容</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.join_group">
<code class="descname">join_group</code><span class="sig-paren">(</span><em>group_alias</em>, <em>message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.join_group" title="永久链接至目标">¶</a></dt>
<dd><p>加入小组</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>group_alias</strong> &#8211; 小组ID</li>
<li><strong>message</strong> &#8211; 如果要验证，留言信息</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">枚举
- joined: 加入成功
- waiting: 等待审核
- initial: 加入失败</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.leave_group">
<code class="descname">leave_group</code><span class="sig-paren">(</span><em>group_alias</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.leave_group" title="永久链接至目标">¶</a></dt>
<dd><p>退出小组</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>group_alias</strong> &#8211; 小组ID</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.like_topic">
<code class="descname">like_topic</code><span class="sig-paren">(</span><em>topic_id</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.like_topic" title="永久链接至目标">¶</a></dt>
<dd><p>喜欢话题</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>topic_id</strong> &#8211; 话题ID</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.list_commented_topics">
<code class="descname">list_commented_topics</code><span class="sig-paren">(</span><em>start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.list_commented_topics" title="永久链接至目标">¶</a></dt>
<dd><p>回复过的话题列表</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>start</strong> &#8211; 翻页</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">带下一页的列表</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.list_comments">
<code class="descname">list_comments</code><span class="sig-paren">(</span><em>topic_id</em>, <em>start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.list_comments" title="永久链接至目标">¶</a></dt>
<dd><p>回复列表</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>topic_id</strong> &#8211; 话题ID</li>
<li><strong>start</strong> &#8211; 翻页</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">带下一页的列表</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.list_joined_groups">
<code class="descname">list_joined_groups</code><span class="sig-paren">(</span><em>user_alias=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.list_joined_groups" title="永久链接至目标">¶</a></dt>
<dd><p>已加入的小组列表</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>user_alias</strong> &#8211; 用户名，默认为当前用户名</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">单页列表</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.list_joined_topics">
<code class="descname">list_joined_topics</code><span class="sig-paren">(</span><em>start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.list_joined_topics" title="永久链接至目标">¶</a></dt>
<dd><p>已加入的所有小组的话题列表</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>start</strong> &#8211; 翻页</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">带下一页的列表</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.list_liked_topics">
<code class="descname">list_liked_topics</code><span class="sig-paren">(</span><em>user_alias=None</em>, <em>start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.list_liked_topics" title="永久链接至目标">¶</a></dt>
<dd><p>喜欢过的话题</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>user_alias</strong> &#8211; 指定用户，默认当前</li>
<li><strong>start</strong> &#8211; 翻页</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">带下一页的列表</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.list_reced_topics">
<code class="descname">list_reced_topics</code><span class="sig-paren">(</span><em>user_alias=None</em>, <em>start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.list_reced_topics" title="永久链接至目标">¶</a></dt>
<dd><p>推荐的话题列表</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>user_alias</strong> &#8211; 指定用户，默认当前</li>
<li><strong>start</strong> &#8211; 翻页</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">带下一页的列表</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.list_topics">
<code class="descname">list_topics</code><span class="sig-paren">(</span><em>group_alias</em>, <em>_type=''</em>, <em>start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.list_topics" title="永久链接至目标">¶</a></dt>
<dd><p>小组内话题列表</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>group_alias</strong> &#8211; 小组ID</li>
<li><strong>_type</strong> &#8211; 类型 默认最新，hot:最热</li>
<li><strong>start</strong> &#8211; 翻页</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">带下一页的列表</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.list_user_comments">
<code class="descname">list_user_comments</code><span class="sig-paren">(</span><em>topic_id</em>, <em>user_alias=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.list_user_comments" title="永久链接至目标">¶</a></dt>
<dd><p>列出用户在话题下的所有回复</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>topic_id</strong> &#8211; 话题ID</li>
<li><strong>user_alias</strong> &#8211; 用户ID，默认当前</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">纯列表</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.list_user_topics">
<code class="descname">list_user_topics</code><span class="sig-paren">(</span><em>start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.list_user_topics" title="永久链接至目标">¶</a></dt>
<dd><p>发表的话题</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>start</strong> &#8211; 翻页</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">带下一页的列表</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.rec_topic">
<code class="descname">rec_topic</code><span class="sig-paren">(</span><em>topic_id</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.rec_topic" title="永久链接至目标">¶</a></dt>
<dd><p>推荐话题</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>topic_id</strong> &#8211; 话题ID</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.remove_comment">
<code class="descname">remove_comment</code><span class="sig-paren">(</span><em>topic_id</em>, <em>comment_id</em>, <em>reason='0'</em>, <em>other=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.remove_comment" title="永久链接至目标">¶</a></dt>
<dd><p>删除评论（自己发的话题所有的都可以删除，否则只能删自己发的）</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>topic_id</strong> &#8211; 话题ID</li>
<li><strong>comment_id</strong> &#8211; 评论ID</li>
<li><strong>reason</strong> &#8211; 原因 0/1/2 （内容不符/反动/其它）</li>
<li><strong>other</strong> &#8211; 其它原因的具体(2)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.remove_commented_topic">
<code class="descname">remove_commented_topic</code><span class="sig-paren">(</span><em>topic_id</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.remove_commented_topic" title="永久链接至目标">¶</a></dt>
<dd><p>删除回复的话题（删除所有自己发布的评论）</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>topic_id</strong> &#8211; 话题ID</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.remove_group">
<code class="descname">remove_group</code><span class="sig-paren">(</span><em>group_id</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.remove_group" title="永久链接至目标">¶</a></dt>
<dd><p>删除小组</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>group_id</strong> &#8211; 小组ID</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.remove_topic">
<code class="descname">remove_topic</code><span class="sig-paren">(</span><em>topic_id</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.remove_topic" title="永久链接至目标">¶</a></dt>
<dd><p>删除话题（需要先删除所有评论，使用默认参数）</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>topic_id</strong> &#8211; 话题ID</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.search_groups">
<code class="descname">search_groups</code><span class="sig-paren">(</span><em>keyword</em>, <em>start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.search_groups" title="永久链接至目标">¶</a></dt>
<dd><p>搜索小组</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>keyword</strong> &#8211; 搜索的关键字</li>
<li><strong>start</strong> &#8211; 翻页</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">含总数的列表</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.search_topics">
<code class="descname">search_topics</code><span class="sig-paren">(</span><em>keyword</em>, <em>sort='relevance'</em>, <em>start=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.search_topics" title="永久链接至目标">¶</a></dt>
<dd><p>搜索话题</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>keyword</strong> &#8211; 关键字</li>
<li><strong>sort</strong> &#8211; 排序方式 relevance/newest</li>
<li><strong>start</strong> &#8211; 翻页</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">带总数的列表</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.undo_like_topic">
<code class="descname">undo_like_topic</code><span class="sig-paren">(</span><em>topic_id</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.undo_like_topic" title="永久链接至目标">¶</a></dt>
<dd><p>取消喜欢</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>topic_id</strong> &#8211; 话题ID</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.undo_rec_topic">
<code class="descname">undo_rec_topic</code><span class="sig-paren">(</span><em>rec_id</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.undo_rec_topic" title="永久链接至目标">¶</a></dt>
<dd><p>取消推荐</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>rec_id</strong> &#8211; 推荐ID</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dbapi.Group.Group.update_topic">
<code class="descname">update_topic</code><span class="sig-paren">(</span><em>topic_id</em>, <em>title</em>, <em>content</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.Group.Group.update_topic" title="永久链接至目标">¶</a></dt>
<dd><p>更新话题</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>topic_id</strong> &#8211; 话题ID</li>
<li><strong>title</strong> &#8211; 标题</li>
<li><strong>content</strong> &#8211; 内容</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dbapi.config">
<span id="dbapi-config-module"></span><h2>dbapi.config module<a class="headerlink" href="#module-dbapi.config" title="永久链接至标题">¶</a></h2>
<p>默认配置</p>
</div>
<div class="section" id="module-dbapi.endpoints">
<span id="dbapi-endpoints-module"></span><h2>dbapi.endpoints module<a class="headerlink" href="#module-dbapi.endpoints" title="永久链接至标题">¶</a></h2>
<p>API接口列表</p>
</div>
<div class="section" id="module-dbapi.utils">
<span id="dbapi-utils-module"></span><h2>dbapi.utils module<a class="headerlink" href="#module-dbapi.utils" title="永久链接至标题">¶</a></h2>
<dl class="function">
<dt id="dbapi.utils.build_list_result">
<code class="descclassname">dbapi.utils.</code><code class="descname">build_list_result</code><span class="sig-paren">(</span><em>results</em>, <em>xml</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.utils.build_list_result" title="永久链接至目标">¶</a></dt>
<dd><p>构建带翻页的列表</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>results</strong> &#8211; 已获取的数据列表</li>
<li><strong>xml</strong> &#8211; 原始页面xml</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">{&#8216;results&#8217;: list, &#8216;count&#8217;: int, &#8216;next_start&#8217;: int|None}
如果count与results长度不同，则有更多
如果next_start不为None，则可以到下一页</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dbapi.utils.slash_right">
<code class="descclassname">dbapi.utils.</code><code class="descname">slash_right</code><span class="sig-paren">(</span><em>url=''</em>, <em>index=1</em><span class="sig-paren">)</span><a class="headerlink" href="#dbapi.utils.slash_right" title="永久链接至目标">¶</a></dt>
<dd><p>获取由/分割的字符串url的最后第index段，忽略结尾空串</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> &#8211; 字符串</li>
<li><strong>index</strong> &#8211; 第几个</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-dbapi">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-dbapi" title="永久链接至标题">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">內容目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">dbapi package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-dbapi.BaseAPI">dbapi.BaseAPI module</a></li>
<li><a class="reference internal" href="#module-dbapi.DoubanAPI">dbapi.DoubanAPI module</a></li>
<li><a class="reference internal" href="#module-dbapi.Group">dbapi.Group module</a></li>
<li><a class="reference internal" href="#module-dbapi.config">dbapi.config module</a></li>
<li><a class="reference internal" href="#module-dbapi.endpoints">dbapi.endpoints module</a></li>
<li><a class="reference internal" href="#module-dbapi.utils">dbapi.utils module</a></li>
<li><a class="reference internal" href="#module-dbapi">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/dbapi.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="转向" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, acrazing.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/api/dbapi.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>